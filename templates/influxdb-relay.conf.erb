### WARNING ### WARNING ### WARNING ### WARNING ### WARNING ###
### Files generated by Puppet, please do not edit manually
### WARNING ### WARNING ### WARNING ### WARNING ### WARNING ###

[[http]]

name = "<%= @http_name %>"
bind-addr = "<%= @http_bind_addr %>:<%= @http_bind_port %>"
health-timeout-ms = <%= @http_health_timeout_ms %>
<% if @ssl == true then -%>
ssl-combined-pem = "<%= @ssl_cert %>"
<% end -%>

<% @http_outputs.each do |o| -%>
[[http.output]]

name = "<%= o['name'] %>"
location = "<%= o['schema'] %>://<%= o['host'] %>:<%= o['port'] %>"
endpoints = { write="<%= o['write'] %>", write_prom="<%= o['write_prom'] %>", ping="<%= o['ping'] %>", query="<%= o['query'] %>" }
timeout = "<%= o['timeout'] %>"

<% end -%>

[[udp]]

name = "<%= @udp_name %>"
bind-addr = "<%= @udp_bind_addr %>:<%= @udp_bind_port %>"
read-buffer = <%= @udp_readbuffer %>
precision = "<%= @udp_precision %>"
output = [
<% @udp_outputs.each do |o| -%>
  { name = "<%= o['name'] %>", location = "<%= o['host'] %>:<%= o['port'] %>", mtu = <%= o['mtu'] %> },
<% end -%>
]

# EOF
